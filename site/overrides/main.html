{% extends "base.html" %}

{% block announce %}
  <!-- Announcement bar removed - validation now prevents placeholder usage -->
{% endblock %}

{% block content %}
  {{ super() }}

  <!-- Add last updated information at the bottom of each page -->
  {% if page.meta.updated %}
  <div class="md-typeset" style="margin-top: 2rem; padding: 1rem; background: #f5f5f5; border-left: 4px solid #2196f3; border-radius: 4px;">
    <p><strong>Last updated:</strong> {{ page.meta.updated }}</p>
    {% if page.meta.critical %}
    <p><strong>Critical Section:</strong> This information requires immediate attention in an emergency.</p>
    {% endif %}
  </div>
  {% endif %}
{% endblock %}

{% block footer %}
  <!-- Custom footer with emergency information -->
  <div class="md-footer-meta md-typeset" style="background: #263238; color: #fff; padding: 1rem; margin-top: 2rem;">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        <p><strong>Emergency Plan Checklist:</strong></p>
        <ul style="margin-left: 1rem;">
          <li>Keep this plan updated regularly</li>
          <li>Ensure emergency contacts have copies</li>
          <li>Review and test digital access methods</li>
          <li>Update beneficiary information annually</li>
        </ul>
        <p style="margin-top: 1rem; font-size: 0.8rem; opacity: 0.7;">
          Generated with MkDocs Material ‚Ä¢ Personal Emergency Planning
        </p>
      </div>
    </div>
  </div>
{% endblock %}

{% block styles %}
  {{ super() }}
  <style>
    /* Additional custom styles can go here */
    .md-banner--warning {
      background: #ff9800;
      color: #fff;
    }

    .md-banner__button {
      color: #fff;
      text-decoration: underline;
    }

    /* Improve readability for emergency content */
    .md-typeset h1,
    .md-typeset h2,
    .md-typeset h3 {
      color: #1976d2;
    }

    /* Highlight critical sections */
    .md-typeset [data-critical="true"] {
      border-left: 4px solid #f44336;
      padding-left: 1rem;
      margin-left: -1rem;
    }

    /* Print button styling */
    @media screen {
      .print-button {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        background: #2196f3;
        color: white;
        border: none;
        border-radius: 50%;
        width: 56px;
        height: 56px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 1000;
      }

      .print-button:hover {
        background: #1976d2;
      }
    }
  </style>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    // Add print button functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Create print button
      const printButton = document.createElement('button');
      printButton.innerHTML = 'üñ®Ô∏è';
      printButton.className = 'print-button';
      printButton.title = 'Print this page';
      printButton.onclick = function() {
        window.print();
      };
      document.body.appendChild(printButton);

      // Add keyboard shortcut for printing
      document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'p') {
          e.preventDefault();
          window.print();
        }
      });
    });
  </script>
{% endblock %}
